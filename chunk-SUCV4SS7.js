import{a as T,b as D}from"./chunk-BC2DD4N7.js";import{d as k}from"./chunk-KPFTI54D.js";import"./chunk-W3XN5HZT.js";import{i as F}from"./chunk-RYWR7QYE.js";import{f as w,s as E}from"./chunk-DU5L4OSH.js";import{Bb as c,Lb as r,Mb as h,Na as l,Nb as M,Vb as B,Wb as y,Xb as S,ab as f,ba as a,ga as p,ha as _,kb as g,lb as m,mb as O,nb as x,oa as P,ob as v,pb as i,qb as o,rb as b,vb as C,zb as u}from"./chunk-ZTWUCJV6.js";var z=e=>["/blog",e],I=(e,n)=>n.title;function R(e,n){if(e&1){let t=C();i(0,"button",7),u("click",function(){p(t);let d=c();return _(d.openNewBlogModal())}),b(1,"i",8),r(2," New Blog "),o()}}function A(e,n){if(e&1&&r(0),e&2){let t=c().$implicit;M(" By ",t.author," \u2022 ")}}function $(e,n){if(e&1){let t=C();i(0,"button",15),u("click",function(){p(t);let d=c().$implicit,V=c();return _(V.deleteBlogPost(d.id))}),b(1,"i",16),o()}}function j(e,n){if(e&1&&(i(0,"article",6)(1,"div",9)(2,"div",10)(3,"h2",11),r(4),o(),i(5,"p",12),g(6,A,1,1),r(7),y(8,"date"),o()(),g(9,$,2,0,"button",13),o(),i(10,"a",14),r(11,"Read More \u2192"),o()()),e&2){let t=n.$implicit,s=c();l(4),h(t.title),l(2),m(t.author?6:-1),l(),M(" ",S(8,5,t.created_at,"MMMM d, yyyy")," "),l(2),m(s.authService.isAuthenticated()?9:-1),l(),v("routerLink",B(8,z,t.id))}}var N=class e{blogService=a(D);modalService=a(F);authService=a(E);posts=P([]);ngOnInit(){this.loadBlogPosts()}loadBlogPosts(){this.blogService.getBlogPosts().subscribe({next:n=>{this.posts.set(n)},error:n=>{console.error("Failed to load blog posts:",n)}})}deleteBlogPost(n){confirm("Are you sure you want to delete this blog post?")&&this.blogService.deleteBlogPost(n).subscribe({next:()=>{console.log("Blog post deleted"),this.loadBlogPosts()},error:t=>{console.error("Failed to delete blog post:",t)}})}openNewBlogModal(){this.modalService.open(T,{centered:!0,size:"lg"}).result.then(t=>{console.log("Blog post created:",t),this.loadBlogPosts()},t=>{console.log("Modal dismissed")})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-blog"]],decls:12,vars:1,consts:[[1,"container","mt-4"],[1,"blog-container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"lead"],[1,"btn","btn-primary"],[1,"posts-list","mt-4"],[1,"post-item"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle","pe-1"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1"],[1,"post-title"],[1,"post-date","text-muted"],["title","Delete post",1,"btn","btn-link","text-danger","delete-btn"],[1,"read-more",3,"routerLink"],["title","Delete post",1,"btn","btn-link","text-danger","delete-btn",3,"click"],[1,"bi","bi-trash"]],template:function(t,s){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1"),r(5,"Blog"),o(),i(6,"p",3),r(7,"Read my the latest articles."),o()(),g(8,R,3,0,"button",4),o(),i(9,"div",5),O(10,j,12,10,"article",6,I),o()()()),t&2&&(l(8),m(s.authService.isAuthenticated()?8:-1),l(2),x(s.posts()))},dependencies:[k,w],styles:[".blog-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:1rem}.blog-container[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:2rem}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]{padding:2rem 0;border-bottom:1px solid #e0e0e0}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:1.1rem;opacity:.6;transition:opacity .2s}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{opacity:1}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin-bottom:.5rem;color:#212529}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-date[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;margin-bottom:1rem}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-body[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#495057;margin-bottom:1rem}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:500;transition:color .2s}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]:hover{color:#0056b3}"]})};export{N as BlogComponent};
