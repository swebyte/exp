import{a as F,b as T}from"./chunk-25J2SO6Y.js";import{e as k}from"./chunk-JXR4H37N.js";import"./chunk-SJQ2B3S3.js";import{i as E}from"./chunk-STM5T3Q6.js";import{g as y,t as w}from"./chunk-6RF4LEQF.js";import{Cb as f,Eb as c,Na as l,Ob as r,Pb as v,Qb as p,Yb as h,Zb as B,_b as S,ab as M,ba as d,ga as _,ha as C,lb as a,mb as m,nb as P,ob as x,pb as O,qb as i,rb as o,sb as b,yb as u}from"./chunk-6ZM7RP27.js";var N=e=>["/blog",e],V=(e,n)=>n.title;function z(e,n){if(e&1){let t=u();i(0,"button",7),f("click",function(){_(t);let g=c();return C(g.openNewBlogModal())}),b(1,"i",8),r(2," New Blog "),o()}}function L(e,n){if(e&1&&r(0),e&2){let t=c().$implicit;p(" By ",t.author," \u2022 ")}}function R(e,n){if(e&1&&r(0),e&2){let t=c().$implicit;p(" \u2022 ",t.likes," Likes ")}}function $(e,n){if(e&1){let t=u();i(0,"button",16),f("click",function(){_(t);let g=c().$implicit,I=c();return C(I.deleteBlogPost(g.id))}),b(1,"i",17),o()}}function A(e,n){if(e&1&&(i(0,"article",6)(1,"div",9)(2,"div",10)(3,"h2",11),r(4),o(),i(5,"p",12),a(6,L,1,1),r(7),B(8,"date"),a(9,R,1,1),o()(),i(10,"div",13),a(11,$,2,0,"button",14),o()(),i(12,"a",15),r(13,"Read More \u2192"),o()()),e&2){let t=n.$implicit,s=c();l(4),v(t.title),l(2),m(t.author?6:-1),l(),p(" ",S(8,6,t.created_at,"MMMM d, yyyy")," "),l(2),m(t.likes!==void 0&&t.likes>0?9:-1),l(2),m(s.authService.isAuthenticated()?11:-1),l(),O("routerLink",h(9,N,t.id))}}var D=class e{blogService=d(F);modalService=d(E);authService=d(w);posts=this.blogService.posts;ngOnInit(){this.blogService.loadBlogPosts()}deleteBlogPost(n){confirm("Are you sure you want to delete this blog post?")&&this.blogService.deleteBlogPost(n).subscribe({next:()=>{console.log("Blog post deleted"),this.blogService.loadBlogPosts()},error:t=>{console.error("Failed to delete blog post:",t)}})}openNewBlogModal(){this.modalService.open(T,{centered:!0,size:"lg"}).result.then(t=>{console.log("Blog post created:",t),this.blogService.loadBlogPosts()},t=>{console.log("Modal dismissed")})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=M({type:e,selectors:[["app-blog"]],decls:12,vars:1,consts:[[1,"container","mt-4"],[1,"blog-container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"lead"],[1,"btn","btn-primary"],[1,"posts-list","mt-4"],[1,"post-item"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle","pe-1"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1"],[1,"post-title"],[1,"post-date","text-muted"],[1,"d-flex","flex-column","align-items-end",2,"gap","0.5rem"],["title","Delete post",1,"btn","btn-link","text-danger","delete-btn"],[1,"read-more",3,"routerLink"],["title","Delete post",1,"btn","btn-link","text-danger","delete-btn",3,"click"],[1,"bi","bi-trash"]],template:function(t,s){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1"),r(5,"Blog"),o(),i(6,"p",3),r(7,"Read the latest articles."),o()(),a(8,z,3,0,"button",4),o(),i(9,"div",5),P(10,A,14,11,"article",6,V),o()()()),t&2&&(l(8),m(s.authService.isAuthenticated()?8:-1),l(2),x(s.posts()))},dependencies:[k,y],styles:[".blog-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:1rem}.blog-container[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:2rem}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]{padding:2rem 0;border-bottom:1px solid #e0e0e0}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:1.1rem;opacity:.6;transition:opacity .2s}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{opacity:1}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin-bottom:.5rem;color:#212529}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-date[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;margin-bottom:1rem}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-body[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#495057;margin-bottom:1rem}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:500;transition:color .2s}.blog-container[_ngcontent-%COMP%]   .posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]:hover{color:#0056b3}"]})};export{D as BlogComponent};
